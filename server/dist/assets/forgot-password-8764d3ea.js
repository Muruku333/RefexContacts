import{q as p,r as o,j as e,W as f,B as m,af as j,d as y,ag as v,T as i,L as b,ah as T,s as S,a as C}from"./index-363c422c.js";import{C as F}from"./Card-2e5797a9.js";import{T as L}from"./TextField-6f77f113.js";import{L as k}from"./LoadingButton-75407970.js";import"./Select-6e9f1e9e.js";import"./Menu-a55f4c52.js";import"./isMuiElement-633dbc8c.js";import"./Button-82ef90ed.js";const w=S("div")(({theme:s})=>({maxWidth:700,margin:"auto",minHeight:"100vh",display:"flex",justifyContent:"center",flexDirection:"column",padding:s.spacing(12,0)}));function G(){const s=p(),[n,u]=o.useState(""),[d,c]=o.useState(!1),[g,a]=o.useState(!1),[x,r]=o.useState(""),h=l=>{if(a(!0),r(""),l.preventDefault(),n===""||n===null)setTimeout(()=>{r("Email is required."),a(!1)},1e3);else try{C.post("/api/forgot_password",{email:n}).then(t=>{console.log(t),t.data.status&&(c(!0),a(!1),r(t.data.message))}).catch(t=>{setTimeout(()=>{a(!1),r(t.response.data.message)},1e3)})}catch(t){setTimeout(()=>{a(!1),r(t.message)},1e3)}};return e.jsxs(e.Fragment,{children:[e.jsx(f,{children:e.jsx("title",{children:" Forgot Password | Refex Contacts "})}),e.jsxs(m,{sx:{...j({color:y(s.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(v,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(w,{sx:{textAlign:"center",alignItems:"center"},children:e.jsxs(F,{sx:{p:3},children:[e.jsx(i,{variant:"h3",paragraph:!0,children:"Forgot your password ?"}),e.jsx(i,{sx:{color:"text.secondary"},children:"Please enter your email address. You will receive a link to reset your password via email."}),e.jsxs(m,{component:"form",noValidate:!0,onSubmit:h,sx:{my:2},children:[e.jsx(L,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:l=>u(l.target.value)}),!d&&e.jsx(k,{fullWidth:!0,loading:g,size:"large",type:"submit",variant:"contained",sx:{mt:3,mb:1},children:"Request reset link"}),e.jsx(i,{mt:1,variant:"subtitle1",color:d?s.palette.success.main:s.palette.error.main,align:"center",children:x})]}),e.jsx(i,{variant:"subtitle1",display:"inline-block",color:"info",sx:{fontWeight:900},children:e.jsx(b,{href:"/login",underline:"hover",children:"Go To Login Page"})})]})}),e.jsx(T,{})]})]})}export{G as default};
