import{u as A,r as s,j as e,I as O,S as p,T as C,R as L,B as q,a as W,W as H}from"./index-363c422c.js";import{e as M,I as z,f as G,g as J,i as K,j as Q}from"./inactive-table-toolbar-a9186931.js";import{I}from"./iconify-a0cb73a7.js";import{S as U}from"./scrollbar-8336d8fd.js";import"./index-0a1fbdb1.js";import{C as V}from"./Container-bfd98d73.js";import{B as X}from"./Button-82ef90ed.js";import{C as Y}from"./Card-2e5797a9.js";import{T as Z,a as $,b as ee}from"./TableContainer-db1d4304.js";import{T as te,a as ae}from"./TableSortLabel-acb732ec.js";import{T as ne}from"./TablePagination-4cb41c0a.js";import"./Grid2-3381ca04.js";import"./isMuiElement-633dbc8c.js";import"./Tooltip-3211b10f.js";import"./Popper-b4d727f8.js";import"./Menu-a55f4c52.js";import"./Autocomplete-a7927d41.js";import"./Select-6e9f1e9e.js";import"./usePreviousProps-e5b39516.js";import"./TextField-6f77f113.js";import"./DialogTitle-e4f7060f.js";import"./Slide-b183d0e7.js";import"./label-5aefaf0e.js";import"./FileSaver.min-df658628.js";import"./format-number-5aba10d8.js";import"./InputAdornment-a4425292.js";function se(){const{enqueueSnackbar:y,closeSnackbar:f}=A(),[l,h]=s.useState([]),[c,u]=s.useState(0),[x,_]=s.useState("asc"),[n,r]=s.useState([]),[g,T]=s.useState("employee_id"),[m,P]=s.useState(""),[d,k]=s.useState(5),[B,j]=s.useState(0),S=s.useCallback(t=>e.jsx(O,{color:"inherit",onClick:()=>f(t),children:e.jsx(I,{icon:"eva:close-outline"})}),[f]);s.useEffect(()=>{(async()=>{try{await W.get("/api/employees/inactive").then(a=>{a.data.status&&h(a.data.results)}).catch(a=>{h([])})}catch(a){h([]),y(a.message,{variant:"error",action:S})}})()},[c,B,S,y]);const E=(t,a)=>{a!==""&&(_(g===a&&x==="asc"?"desc":"asc"),T(a))},R=t=>{if(t.target.checked){const a=l.map(o=>o.employee_id);r(a);return}r([])},N=(t,a)=>{const o=n.indexOf(a);let i=[];o===-1?i=i.concat(n,a):o===0?i=i.concat(n.slice(1)):o===n.length-1?i=i.concat(n.slice(0,-1)):o>0&&(i=i.concat(n.slice(0,o),n.slice(o+1))),r(i)},F=(t,a)=>{u(a)},D=t=>{u(0),k(parseInt(t.target.value,10))},w=t=>{u(0),P(t.target.value)},b=M({inputData:l,comparator:Q(x,g),filterName:m}),v=!b.length&&!!m;return e.jsxs(V,{maxWidth:"xl",children:[e.jsxs(p,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsx(C,{variant:"h4",children:"Inactive Employee list"}),e.jsx(p,{direction:"row",alignItems:"center",gap:3,children:e.jsx(X,{href:"/employees/list",variant:"contained",color:"error",component:L,startIcon:e.jsx(I,{icon:"eva:arrow-back-fill"}),children:"Back to active list"})})]}),e.jsxs(Y,{children:[e.jsx(z,{selectedEmployees:n,setSelectedEmployees:r,numSelected:n.length,filterName:m,onFilterName:w,setRefresh:j}),e.jsx(U,{children:e.jsx(Z,{sx:{overflow:"unset"},children:e.jsxs($,{sx:{minWidth:800},children:[e.jsx(G,{order:x,orderBy:g,rowCount:l.length,numSelected:n.length,onRequestSort:E,onSelectAllClick:R,headLabel:[{id:"employee_id",label:"Employee ID"},{id:"employee_name",label:"Name"},{id:"mobile_number",label:"Mobile Number"},{id:"landline",label:"Landline"},{id:"designation",label:"designation"},{id:"company_name",label:"Company"},{id:"branch_name",label:"Branch"},{id:"is_active",label:"Status"},{id:""}]}),e.jsxs(ee,{children:[b.length<1&&!v&&e.jsx(te,{sx:{height:300},children:e.jsx(ae,{colSpan:10,children:e.jsxs(p,{spacing:1,children:[e.jsx(q,{component:"img",src:"/assets/icons/ic_content.svg",sx:{height:120,mx:"auto"}}),e.jsx(C,{textAlign:"center",variant:"subtitle1",color:"text.secondary",component:"span",children:"No Data"})]})})}),b.slice(c*d,c*d+d).map(t=>e.jsx(J,{setRefresh:j,employeeId:t.employee_id,name:t.employee_name,email:t.email,photo:t.photo,designation:t.designation,mobileNumber:t.mobile_number,landline:t.landline,company:t.company.company_name,branch:t.branch.branch_name,status:t.is_active,selected:n.indexOf(t.employee_id)!==-1,handleClick:a=>N(a,t.employee_id)},t.id)),v&&e.jsx(K,{query:m})]})]})})}),e.jsx(ne,{page:c,component:"div",count:l.length,rowsPerPage:d,onPageChange:F,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:D}),e.jsx(p,{direction:"row",alignItems:"center",justifyContent:"center",my:3,spacing:2})]})]})}function Re(){return e.jsxs(e.Fragment,{children:[e.jsx(H,{children:e.jsx("title",{children:"Employees | Refex Contacts"})}),e.jsx(se,{})]})}export{Re as default};
